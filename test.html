<!DOCTYPE html>
<html lang="en" x-data="app()" x-init="init()" :class="{ 'dark': darkMode }" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Loch & Legend Tours</title>

  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />

  <!-- Alpine.js -->
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.12.0/dist/cdn.min.js" defer></script>

  <!-- SwiperJS CSS & JS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>

  <!-- Leaflet.js CSS & JS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <style>
    .zoom-hover:hover {
      transform: scale(1.05);
      transition: transform 0.3s ease;
    }
    #map {
      height: 500px;
      width: 100%;
      border-radius: 1rem;
      overflow: hidden;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-green-100 to-blue-50 dark:from-gray-900 dark:to-gray-800 text-gray-800 dark:text-gray-100 relative">

  <!-- Navbar -->
  <header class="fixed w-full bg-white dark:bg-gray-900 shadow z-50">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold">Loch & Legend</h1>
      <nav class="space-x-4 hidden md:block">
        <a href="#tours" class="hover:underline">Tours</a>
        <a href="#map-section" class="hover:underline">Map</a>
        <a href="#footer" class="hover:underline">Contact</a>
        <button @click="darkMode = !darkMode" class="ml-4 px-3 py-1 rounded bg-gray-200 dark:bg-gray-700">ðŸŒ™</button>
      </nav>
      <button class="md:hidden">â˜°</button>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="relative h-screen bg-cover bg-center" style="background-image: url('https://www.sykescottages.co.uk/inspiration/wp-content/uploads/Scotland-small-2400x1573.jpg');">
    <div class="absolute inset-0 bg-black bg-opacity-40 flex flex-col items-center justify-center text-center text-white px-4">
      <h1 class="text-6xl font-extrabold tracking-wide mb-4 drop-shadow-lg">Loch & Legend Tours</h1>
      <p class="text-xl max-w-xl">Uncover the magic of Scotland: Explore epic cities, wonderful nature and the legendary Scottish Whisky.</p>
      <a href="#tours" class="mt-8 bg-yellow-400 text-gray-900 px-6 py-3 rounded-full shadow-md hover:bg-yellow-500 transition">View Our Tours</a>
    </div>
  </section>

  <!-- Tours Section -->
  <section id="tours" class="py-20 px-6 max-w-7xl mx-auto">
    <h2 class="text-4xl font-bold text-center mb-12">Our Tours</h2>
    <div class="grid md:grid-cols-3 gap-10">
      <template x-for="tour in tours" :key="tour.id">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition cursor-pointer transform hover:scale-105" @click="openTour(tour)">
          <div class="relative">
            <img :src="tour.images[0]" class="w-full h-48 object-cover zoom-hover" />
            <span x-show="tour.badge" class="absolute top-2 left-2 bg-red-500 text-white text-xs font-semibold px-2 py-1 rounded-full" x-text="tour.badge"></span>
          </div>
          <div class="p-5">
            <h3 class="text-2xl font-bold mb-1" x-text="tour.name"></h3>
            <p class="text-gray-600 dark:text-gray-300" x-text="tour.short"></p>
          </div>
        </div>
      </template>
    </div>
  </section>

  <!-- Map Section -->
  <section id="map-section" class="py-20 px-6 max-w-7xl mx-auto">
    <h2 class="text-4xl font-bold text-center mb-12">Tour Map</h2>
    <div id="map"></div>
  </section>

  <!-- Tour Popup Modal with Swiper Carousel -->
  <div x-show="selectedTour" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 px-4" x-transition>
    <div class="bg-white dark:bg-gray-900 p-6 rounded-xl max-w-3xl w-full shadow-xl relative max-h-[90vh] overflow-hidden">
      <button class="absolute top-2 right-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-2xl" @click="selectedTour = null">âœ–</button>

      <!-- Swiper -->
      <div class="swiper mySwiper mb-4 rounded-xl overflow-hidden">
        <div class="swiper-wrapper">
          <template x-for="img in selectedTour?.images">
            <div class="swiper-slide">
              <img :src="img" class="object-cover w-full h-72 md:h-80 rounded-xl shadow" />
            </div>
          </template>
        </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-pagination"></div>
      </div>

      <!-- Scrollable content with Read More -->
      <div class="overflow-y-auto pr-2" style="max-height: 30vh;" x-data="{ expanded: false }">
        <h2 class="text-3xl font-bold mb-2" x-text="selectedTour?.name"></h2>
        <p class="mb-4 text-gray-700 dark:text-gray-300">
          <template x-if="!expanded">
            <span x-text="selectedTour?.details.split(' ').slice(0, 10).join(' ') + '...'" ></span>
          </template>
          <template x-if="expanded">
            <span x-text="selectedTour?.details"></span>
          </template>
        </p>
        <button @click="expanded = !expanded" class="text-blue-600 dark:text-blue-400 underline">
          <span x-text="expanded ? 'Read less' : 'Read more'"></span>
        </button>
      </div>

      <div class="text-center mt-4">
        <button class="bg-green-600 text-white px-6 py-2 rounded-full hover:bg-green-700 transition" @click="selectedTour = null">Close</button>
      </div>
    </div>
  </div>

  <!-- Scroll to Top Button -->
  <button @click="window.scrollTo({ top: 0, behavior: 'smooth' })" class="fixed bottom-6 right-6 bg-yellow-400 hover:bg-yellow-500 text-white text-lg p-3 rounded-full shadow-lg z-50">â†‘</button>

  <!-- Footer -->
  <footer id="footer" class="text-center py-10 bg-white dark:bg-gray-900 border-t mt-16">
    <p class="text-gray-500 dark:text-gray-400">&copy; 2025 Warning: This is not a real travel agency. All rights reserved.</p>
    <div class="mt-4 space-x-4">
      <a href="#" class="text-blue-600 dark:text-blue-400 hover:underline">Contact</a>
      <a href="#" class="text-blue-600 dark:text-blue-400 hover:underline">Terms</a>
      <a href="#" class="text-blue-600 dark:text-blue-400 hover:underline">Privacy</a>
    </div>
  </footer>

  <!-- AlpineJS app logic -->
  <script>
    function app() {
      return {
        darkMode: false,
        selectedTour: null,
        tours: [
          {
            id: 1,
            name: 'Edinburgh Castle',
            badge: 'Popular',
            short: 'Half-a-day trip inclusive a guided tour with our professor Lukas M. S.',
            details: 'Discover the history, legends, and stunning views of Edinburgh Castle â€“ Scotlandâ€™s most iconic fortress. Perched dramatically atop Castle Rock, Edinburgh Castle is one of Scotlandâ€™s most iconic landmarks. With over 900 years of history, it has witnessed royal ceremonies, epic sieges, and tales of intrigue. Step inside to explore the Crown Jewels, the Stone of Destiny, and the oldest building in Edinburgh â€“ St. Margaretâ€™s Chapel. From its battlements, enjoy panoramic views of the city below. Whether you're a history buff or just love a great view, Edinburgh Castle is a must-see on any Scottish adventure.',
            images: [
              'https://cdn-imgix.headout.com/media/images/4c3d6424c275250b566405350e473f8d-St.Margaret-sChapelattheEdinburghCastle.jpg?auto=format&w=510.8727272727273&h=401.4&q=90&fit=crop&ar=14%3A11&crop=faces',
              'https://cdn-imgix.headout.com/media/images/112625b3d729ca1f2beb348170dd706a-25265-Edinburgh-sHarryPotterTour-WhiskyTastingExperience-012.jpg?auto=format&w=510.8727272727273&h=401.4&q=90&fit=crop&ar=14%3A11&crop=faces',
              'https://cdn-imgix.headout.com/media/images/101a90db3d27c28ed8b90cc26cf92a9f-RoyalCrownJewelsattheEdinburghCastle.jpg?auto=format&w=510.8727272727273&h=401.4&q=90&fit=crop&ar=14%3A11&crop=faces'
            ]
          },
          {
            id: 2,
            name: 'Scottish Whisky Tour',
            badge: 'New',
            short: 'In vinum veritas - in whisky scotish history. Uncover it at our one-day whisky tou with the alcoholics Vuk, Samuel and Lukas.',
            details: 'Experience Scotland through the glass! On the Scottish Whisky Tour, youâ€™ll embark on a flavourful journey through scenic landscapes, charming distilleries, and centuries-old traditions. From the Highlands and Speyside to the smoky islands â€“ each region brings its own unique character to the glass. During guided tastings, youâ€™ll discover how crystal-clear water and golden malted barley are transformed into liquid gold. Along the way, enjoy tales of clans, ghosts, and secret recipes. SlÃ inte mhath â€“ to your health!',
            images: [
              'https://edinburghtipps.de/images/edinburgh_sehenswurdigkeiten.jpg',
              'https://www.merian.de/uploads/media/jalag-content-image/03/11533-iStock-guven-ozdemir-sehenswuerdigkeit-in-edinburgh-victoria-street.webp?v=1-0',
              'https://cdn.getyourguide.com/img/tour/38ba5ed660e58d9f5b4160adcebb62142626a55710c0a87c91418bfa2273801a.jpg/98.jpg'
            ]
          },
          {
            id: 3,
            name: 'Edinburgh & Castles',
            badge: '',
            short: '4-day cultural exploration.',
            details: 'Tour Edinburgh Castle, Royal Mile, and ancient fortresses across the Lowlands. Includes historic inns and local cuisine.',
            images: [
              'https://cdn.britannica.com/58/129458-050-5CB24D25/map-cities-Scotland-boundaries-location.jpg',
              'https://res.cloudinary.com/woltersrundreisen/image/upload/c_fit,f_webp,h_375,w_375/shutterstock_121234648'
            ]
          },
          {
            id: 4,
            name: 'Camera Obscura & Illusions',
            badge: 'Family Fun',
            short: 'A day of wonder and perspective.',
            details: 'Step into Edinburghâ€™s most playful attraction! Camera Obscura & World of Illusions takes you through magical rooms filled with visual tricks, mirror mazes, light tunnels, and the famous rooftop camera. Perfect for families, curious minds, and Instagram lovers.',
            images: [
              'https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0d/06/66/fb/camera-obscura-and-world.jpg',
              'https://cdn.getyourguide.com/img/location/5e1f8af054d9a.jpeg/99.jpg',
              'https://www.camera-obscura.co.uk/sites/default/files/styles/large/public/2021-11/illusions_0.jpg'
            ]
          },
          {
            id: 5,
            name: 'Outlander Locations Tour',
            badge: 'TV Highlight',
            short: 'Walk in the footsteps of Jamie & Claire.',
            details: 'Visit filming locations from the hit show Outlander. Explore Doune Castle (Castle Leoch), Culross (Cranesmuir), and Midhope Castle (Lallybroch) while uncovering both fiction and history.',
            images: [
              'https://www.visitscotland.com/cms-images/1671492/720x540.jpg',
              'https://www.scotland.org/images/uploads/general/Outlander-Locations-Map-Large.jpg',
              'https://outlanderlocations.com/media/midhope-castle.jpg'
            ]
          },
          {
            id: 6,
            name: 'Isle of Skye Explorer',
            badge: 'Scenic',
            short: 'Rugged beauty and fairy-tale landscapes.',
            details: 'Travel to the mystical Isle of Skye, visiting the Fairy Pools, Old Man of Storr, Quiraing, and Eilean Donan Castle. Includes overnight stays in cozy Highland guesthouses.',
            images: [
              'https://www.isleofskye.com/images/visit/fairy-pools/fairy-pools.jpg',
              'https://www.isleofskye.com/images/visit/storr/old-man-of-storr.jpg',
              'https://www.isleofskye.com/images/visit/quiraing/quiraing.jpg'
            ]
          }
        ],
        init() {
          const map = L.map('map').setView([56.4907, -4.2026], 6);
          L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
          }).addTo(map);

          const markers = [
            { lat: 55.9533, lng: -3.1883, text: 'Edinburgh Castle' },
            { lat: 56.6826, lng: -5.1024, text: 'Glencoe' },
            { lat: 57.4125, lng: -6.1941, text: 'Isle of Skye' },
            { lat: 57.3229, lng: -4.4244, text: 'Loch Ness' },
            { lat: 49.40000, lng: -8.17990, text: 'germany' },
            { lat: 49.45432, lng: 8.16004, text: 'Vukscha Sebia BotschaftðŸ‡·ðŸ‡¸' } 
          ];

          markers.forEach(m => {
            L.marker([m.lat, m.lng]).addTo(map).bindPopup(m.text);
          });
        },
        openTour(tour) {
          this.selectedTour = tour;
          this.$nextTick(() => {
            if (this.swiper) this.swiper.destroy(true, true);
            this.swiper = new Swiper('.mySwiper', {
              loop: true,
              navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
              },
              pagination: {
                el: '.swiper-pagination',
                clickable: true,
              },
            });
          });
        }
      }
    }
  </script>
</body>
</html>

